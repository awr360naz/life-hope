/* ===== برامجنا فقط ===== */
.programs-section .carousel-viewport {
  position: relative;
  overflow: hidden;
}

/* مسار السك롤 */
.programs-section .carousel-track {
  --gap: 12px;
  --edge: 12px;

  display: flex;
  align-items: stretch;
  gap: var(--gap);
  padding-inline: var(--edge);
  overflow-x: auto;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
  scrollbar-width: none;
}
.programs-section .carousel-track::-webkit-scrollbar { display: none; }

/* حجم الكرت – نفس مقاس كروت المقالات تقريبًا */
.programs-section .program-card {
  flex: 0 0 220px;         /* العرض الثابت */
  max-width: 220px;
  min-height: 140px;       /* عدّلي لو بدك */
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
  overflow: hidden;
  scroll-snap-align: start;
  display: flex;
}

.programs-section .card-link { display: flex; flex: 1; text-decoration: none; color: inherit; }
.programs-section .program-inner { display: flex; flex-direction: column; width: 100%; }

/* صورة الكرت */
.programs-section .program-image-wrap {
  aspect-ratio: 16 / 9;   /* بتعطي نفس ارتفاع المقالات تقريبًا */
  background: #eee;
  overflow: hidden;
}
.programs-section .program-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* عنوان الكرت */
.programs-section .program-card-title {
  font-weight: 700;
  font-size: 16px;
  margin: 8px 10px 12px;
  text-align: right;          /* RTL */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* أزرار التالي/السابق – ظاهرات بالكامل ومش مقطوشات */
.programs-section .nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  width: 34px;
  height: 34px;
  border: 0;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,.15);
  cursor: pointer;
}
.programs-section .nav-prev { right: 6px; }
.programs-section .nav-next { left: 6px; }
.programs-section .nav-btn:disabled { opacity: .4; cursor: default; }

/* هيكل التحميل (اختياري) */
.programs-section .carousel-skeleton {
  display: grid;
  grid-auto-flow: column;
  gap: 12px;
  padding-inline: 12px;
}
.programs-section .skeleton-card {
  width: 220px;
  height: 140px;
  border-radius: 12px;
  background: linear-gradient(90deg, #eee, #f6f6f6, #eee);
  background-size: 200% 100%;
  animation: progShimmer 1.2s linear infinite;
}
/* 1) نحطّ قسم برامجنا بنفس سنتر صفحة المقالات */
.programs-section {
  /* استعملي نفس عرض الكونتينر تبع المقالات لو عندك متغيّر جاهز */
  max-width: 1100px;   /* أو القيمة اللي بتستعمليها بالمقالات */
  margin-inline: auto; /* يوسّط كل القسم */
}

/* 2) عنوان وبرابط "برامجنا" يبقوا نفس لون الثيم—مش أزرق ومش تحته خط */
.programs-section .programs-title {
  text-align: right; /* زي المقالات (RTL) */
  margin: 0 0 10px;
}
.programs-section .programs-link {
  color: inherit;
  text-decoration: none;
}
.programs-section .programs-link:hover {
  color: inherit;
  text-decoration: none;
}
/* لو بتشوفي هالة زرقا حوالين الرابط عند التركيز */
.programs-section .programs-link:focus {
  outline: 2px solid #bbb; /* أو الغيها: outline: none; (بس الأحسن نسيّب فارقة وصول) */
  border-radius: 6px;
}

/* 3) الأسهم تتموضع عند حواف أول/آخر كرت، مش ملزوقة على حافة الفيو بورت */
.programs-section .carousel-viewport {
  position: relative;   /* للأسهم المطلقة */
  overflow: hidden;
}

/* المسار أصلاً فيه --edge و --gap، منستفيد منهم */
.programs-section .nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  width: 34px; height: 34px;
  border: 0; border-radius: 50%;
  background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,.15);
  cursor: pointer;
}

/* نحط السهم اليمين (السابق) عند حافة أول كرت: */
.programs-section .nav-prev {
  right: calc(var(--edge, 12px) + 2px);
}
/* والسهم الشمال (التالي) عند حافة آخر كرت: */
.programs-section .nav-next {
  left: calc(var(--edge, 12px) + 2px);
}

.programs-section .nav-btn:disabled { opacity: .4; cursor: default; }

/* 4) كروت البرامج نفس حجم المقالات (زي ما ثبتنا قبل) */
/* الكرت ياخذ ربع المساحة بالضبط */
.programs-section .program-card {
  flex: 0 0 calc((100% - (var(--gap) * 3) - (var(--edge) * 2)) / 4);
  max-width: calc((100% - (var(--gap) * 3) - (var(--edge) * 2)) / 4);
  min-height: 160px;   /* عدّليها إذا بدك الطول أكبر/أصغر */
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  overflow: hidden;
  scroll-snap-align: start;
}


/* تأكيد: الروابط داخل الكرت ما تغيّر اللون */
.programs-section .card-link {
  display: flex; flex: 1;
  color: inherit; text-decoration: none;
}
.programs-section .card-link:focus {
  outline: 2px solid #bbb; border-radius: 10px;
}
/* ========== برامجنا بنفس ستايل المقالات ========== */

/* نفس .carousel-viewport */
.programs-section .carousel-viewport {
  position: relative;
  overflow: hidden;
}

/* نفس .carousel-track */
.programs-section .carousel-track {
  --gap: 12px;    /* المسافة بين الكروت */
  --edge: 12px;   /* حافة يمين/يسار المسار */

  display: flex;
  flex-wrap: nowrap;
  align-items: stretch;

  /* المسار هو اللي بيسكرول */
  overflow-x: auto;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
  scrollbar-width: none;

  gap: var(--gap);
  padding-inline: var(--edge);         /* حافة تمنع قصّ أول/آخر كرت */
  scroll-padding-inline: var(--edge);  /* السناب يحتسب الحافة */
}
.programs-section .carousel-track::-webkit-scrollbar { display: none; }

/* عرض الكرت = (100% - مجموع الفراغات) / عدد الظاهر (نفس المقالات) */
.programs-section .program-card {
  flex: 0 0 calc(
    (100% - ( (var(--perView, 4) - 1) * var(--gap, 12px) ))
    / var(--perView, 4)
  );
  box-sizing: border-box;
  scroll-snap-align: start;
  cursor: pointer;
}

/* الإطار الأبيض (نفس .article-inner) */
.programs-section .program-inner {
  height: 100%;
  border-radius: 8px;
  background: #fff;
  box-shadow: 0 1px 4px rgba(0,0,0,.08);
  overflow: hidden;
  padding: 6px;          /* أصغر */
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* صورة (نفس .article-image-wrap / .article-image) */
.programs-section .program-image-wrap {
  aspect-ratio: 16 / 9;
  overflow: hidden;
  border-radius: 6px;
}
.programs-section .program-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* عنوان RTL (نفس .article-card-title) */
.programs-section .program-card-title {
  font-size: 14px;
  font-weight: 600;
  line-height: 1.4;
  margin: 0;
  text-align: right;
  direction: rtl;
}

/* روابط نفس المقالات */
.programs-section .programs-link,
.programs-section .card-link {
  color: inherit;
  text-decoration: none;
}
.programs-section .programs-link:hover,
.programs-section .card-link:hover {
  text-decoration: none;
}

/* ===== الأسهم نفس المقالات تماماً ===== */
/* ملاحظة: لو عندك .nav-btn عامة للمقالات، هالمجموعة تضمن نفس الشكل داخل برامجنا */
.programs-section .nav-btn {
  position: absolute; 
  top: 50%; 
  transform: translateY(-50%);
  inline-size: 38px; 
  block-size: 38px; 
  border-radius: 999px;
  border: none; 
  background: rgba(0,0,0,.6); 
  color: #fff;
  font-size: 22px; 
  display: grid; 
  place-items: center;
  cursor: pointer; 
  z-index: 1;
}
.programs-section .nav-prev { inset-inline-start: 6px; }
.programs-section .nav-next { inset-inline-end: 6px; }
.programs-section .nav-btn:disabled { opacity: .35; cursor: default; }

/* موبايل */
@media (max-width: 600px) {
  .programs-section .program-card { flex-basis: 180px; max-width: 180px; min-height: 130px; }
}

@keyframes progShimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* موبايل: كرت أصغر شوي */
@media (max-width: 600px) {
  .programs-section .program-card,
  .programs-section .skeleton-card {
    flex-basis: 180px;
    max-width: 180px;
    min-height: 130px;
  }
}
